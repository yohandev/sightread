{
  "version": 3,
  "sources": ["wasm-stub:/Users/yohan/dev/sightread/src/rs/mod.wasm", "../src/rs/mod.js", "../src/js/main.js"],
  "sourcesContent": ["\n            import wasm from \"/Users/yohan/dev/sightread/src/rs/mod.wasm\"\n\n            export default (imports) => WebAssembly\n                .instantiate(wasm, imports)\n                .then(result => result.instance.exports)\n            ", "import load from './mod.wasm'\n\n/** @type {WebAssembly.Exports} */\nlet exports = undefined;\n\n/** bindings over WASM module */\nexport default\n{\n    /** begins loading the WASM module */\n    async load()\n    {\n        exports = await load();\n\n        console.log(exports)\n    },\n\n    /** @returns {WebAssembly.Memory} */\n    get memory() { return exports.memory },\n\n    /**\n     * allocate a new array in WASM memory\n     * @param {'f32[]' | 'i32[]'} ty type of array to allocate\n     * @param {number} len length of array to allocate\n     */\n    alloc(ty, len)\n    {\n        const ptr = exports.alloc32(len);\n\n        switch (ty)\n        {\n            case 'f32[]': return new Float32Array(this.memory.buffer, ptr, len);\n            case 'i32[]': return new Int32Array(this.memory.buffer, ptr, len);\n        }\n    },\n    /**\n     * deallocate an array allocated with `alloc` in WASM memory\n     * @param {Float32Array | Int32Array} arr array to deallocate\n     */\n    dealloc(arr)\n    {\n        exports.dealloc32(arr.byteOffset, arr.length);\n    },\n}", "import wasm from '../rs/mod'\n\nconst main = async () =>\n{\n    await wasm.load()\n\n    let arr = wasm.alloc('f32[]', 30);\n\n    wasm.dealloc(arr);\n}\n\nmain();"],
  "mappings": "qqKAGY,GAAO,GAAQ,AAAC,GAAY,YACvB,YAAY,EAAM,GAClB,KAAK,GAAU,EAAO,SAAS,SCFhD,GAAI,GAGG,EACP,MAEU,OACN,CACI,EAAU,KAAM,KAEhB,QAAQ,IAAI,OAIZ,SAAS,CAAE,MAAO,GAAQ,QAO9B,MAAM,EAAI,EACV,CACI,GAAM,GAAM,EAAQ,QAAQ,GAE5B,OAAQ,OAEC,QAAS,MAAO,IAAI,cAAa,KAAK,OAAO,OAAQ,EAAK,OAC1D,QAAS,MAAO,IAAI,YAAW,KAAK,OAAO,OAAQ,EAAK,KAOrE,QAAQ,EACR,CACI,EAAQ,UAAU,EAAI,WAAY,EAAI,UCtC9C,GAAM,GAAO,SACb,CACI,KAAM,GAAK,OAEX,GAAI,GAAM,EAAK,MAAM,QAAS,IAE9B,EAAK,QAAQ,IAGjB",
  "names": []
}
